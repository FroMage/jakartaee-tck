<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.78 [en] (X11; U; SunOS 5.9 sun4u) [Netscape]">
<!--

    Copyright (c) 2018, 2019 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License v. 2.0, which is available at
    http://www.eclipse.org/legal/epl-2.0.

    This Source Code may also be made available under the following Secondary
    Licenses when the conditions for such availability set forth in the
    Eclipse Public License v. 2.0 are satisfied: GNU General Public License,
    version 2 with the GNU Classpath Exception, which is available at
    https://www.gnu.org/software/classpath/license.html.

    SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0

-->

   <title>Jakarta Registries version 1.0 TCK Release Notes, September 2019</title>
<style type="text/css">

<!--

pre {  background-color: #eeeeee; color: #000099}

code {  color: #000099}

h1 {  color: #000099}

h2 {  color: #000099}

h3 {  color: #000099; text-decoration: underline}

h4 {  font-style: italic; color: #000099}

.step {  font-weight: bold}

.tabletitle {  font-style: italic; color: #ffffcc; font-size: small; font-variant: small-caps}

.subtitle {  font-style: italic; color: #ffffcc; font-variant: small-caps}

.emphasize  {  font-style: italic; color: #000099}

-->

  </style>
</head>
<body text="#000000" bgcolor="#FFFFDD" link="#0000FF" vlink="#840084" alink="#0000FF">

<center>
<h1>
Jakarta Registries Technology Compatibility Kit, Version 1.0<br>
<span class="emphasize">Release Notes, September 2019</span></h1></center>

<hr size="3" noshade="noshade">
<h2>
<a NAME="kit_contents"></a>Kit Contents</h2>
The Jakarta Registries TCK, Version 1.0.x includes the following items:

<ul>
<p><b>Jakarta Registries TCK tests</b>
<ul>
<li>
A <b>signature test</b> that checks that all of the public APIs are supported
in the Jakarta Registries Version 1.0 implementation that is being tested.</li>

<li>
<b>API tests</b> for all of the public APIs under the <tt>javax.xml.registry</tt>
package.</li>

<li>
<b>End-To-End tests</b> that demonstrate saving and querying to a registry.</li>
</ul>
</ul>

<hr>
<h2>
<a NAME="platform"></a>Platform Notes</h2>
The Jakarta Registries TCK tests have been built and tested with the Java Web Services
Developers Pack (JWSDP) 1.2 running on the Java<sup><font size=-2>TM</font></sup>
 Platform, Standard Edition SDK, Version 1.4.1_02. If you are using a
different registry server, you will need to make adjustments to the procedures
outlined in this document.
 <p>The Jakarta Registries TCK tests run on the following platforms:
<ul>
<li>
Sun Solaris 8, 9</li>

<li>
Win2000 Professional Edition</li>

<li>
WinXP Professional Edition</li>

<li>
Linux Redhat 8.0</li>
</ul>
In the instructions in this document, variables in angle brackets need
to be expanded for each platform. For example, <tt>&lt;TS_HOME></tt> becomes
<tt>$TS_HOME</tt>
on Solaris/Linux and <tt>%TS_HOME%</tt> on Windows. In addition,
the forward slashes (<tt>/</tt>) used in all of the examples need to be
replaced with backslashes (<tt>\</tt>) for Windows.
<br>
<hr>
<h2>
<a NAME="install_setup_run"></a>Installing, Setting Up, and Running the
Jakarta Registries TCK</h2>
The following sections explain how to:
<ul>
<li>
<a href="#install">Install the required software</a></li>

<li>
<a href="#setup">Set up your environment</a></li>

<li>
<a href="#start">Start your Registry</a></li>

<li>
<a href="#run_all_tests">Run the Jakarta Registries TCK tests</a></li>

<li>
<a href="#run_subset">Run a subset of the Jakarta Registries&nbsp; TCK tests</a></li>

<li>
<a href="#use_ant">Build/Run the Jakarta Registries TCK tests using ant</a></li>
</ul>

<h3>
<a NAME="install"></a>Installing the Required Software</h3>
Before you can run the Jakarta Registries TCK tests, you must install and set up the
following software components:
<ul>
<li>
J2SE 1.4.1 software</li>

<li>
Java Web Services Developers Pack 1.2 which provides an implementation
of the Jakarta Registries 1.0&nbsp; Specification</li>

<li>
Jakarta Registries TCK, Version 1.0</li>
</ul>
Complete the following steps to install the required software:
<ol type="1">
<div class="step"><b>Install the J2SE 1.4.1 software.</b></div>
Download and install the J2SE 1.4.1 software from the Java Software Web
site (<a href="http://java.sun.com/products">http://java.sun.com/products</a>).
Refer to the installation instructions that accompany the software for
additional information.

<p class="step"><b>Install the Java Web Services Developers Pack 1.2 software.</b>
<p>Download and install the Java Web Services Developers Pack 1.2 from
the Project Web site (<a href="http://java.sun.com/webservices/downloads/webservicespack.html">http://java.sun.com/webservices/downloads/webservicespack.html</a>).
Refer to the documentation included with the Java Web Services Developers
Pack for specific installation instructions.

<p class="step"><b>Install the Jakarta Registries TCK software.</b>
<p>Download the Jakarta Registries TCK software from the Java Partner Engineering Web
site and install:
<ol type="a">
<div class="step"><b>Copy or download the Jakarta Registries TCK software to your local
system.</b></div>
You can obtain the Jakarta Registries&nbsp; TCK software from the Java Partner Engineering
web site (<a href="http://javapartner.sun.com">http://javapartner.sun.com</a>).
The Jakarta Registries TCK software is located in the <tt>OPTPKG-XML/jaxr</tt> directory
in the Web site's Download Center area.

<p class="step"><b>Change to the directory where you want to install the
Jakarta Registries TCK software:</b>
<p><tt>cd &lt;install_directory></tt>

<p class="step"><b>Use the unzip command to extract the bundle:</b>
<p><tt>unzip jaxr-1_0_x-fr-tck.zip</tt>
<p>This will create the <tt>jaxrtck</tt> directory. The <tt>&lt;install_directory>/jaxrtck</tt>
directory will be <tt>TS_HOME</tt>.</ol>
</ol>

<h3>
<a NAME="setup"></a>Setting Up your Environment</h3>
Complete the following steps to set up your environment:
<ol type="1">
<div class="step"><b>Set the following environment variables in your shell
environment:</b></div>

<ul>
<li>
<tt>JAVA_HOME</tt> variable to the installation directory of J2SE 1.4.1</li>

<li>
<tt>TS_HOME</tt> to the directory where the Jakarta Registries&nbsp; TCK software has
been installed</li>

<li>
<tt>JWSDP_HOME</tt> to the directory where the Java Web Services Developers
Pack software has been installed</li>
</ul>

<div class="step"><b>Change to the <tt>&lt;TS_HOME>/bin</tt> directory.</b></div>

<div class="step"><b>Edit your <tt>build.properties</tt> file and set the
following environment variables:</b></div>

<ol type="a">
<div class="step">&nbsp;</div>

<div class="step">Set the <tt>local_classes</tt> property to point to the
Jakarta Registries RI classes/jars and the TCK classes/jars (<tt>tsharness.jar</tt>,
<tt>javatest.jar</tt>,
<tt>jaxrtck.jar</tt>).</div>
For example, if you are running the Java Web Services Developers Pack on
Solaris 8, set the following classpath:
<pre>setenv LOCAL_CLASSES=${JWSDP_HOME}/jaxr/lib/jaxr-impl.jar:
${JWSDP_HOME}/jaxr/lib/jaxr-api.jar:
${JWSDP_HOME}/jaxr/lib/fscontext.jar:
${JWSDP_HOME}/jaxr/lib/castor-0.9.3.9-xml.jar:
${JWSDP_HOME}/jaxp/lib/jaxp-api.jar:
${JWSDP_HOME}/jaxp/lib/endorsed/xercesImpl.jar:
${JWSDP_HOME}/jaxp/lib/endorsed/xsltc.jar:
${JWSDP_HOME}/jaxp/lib/endorsed/xalan.jar:
${JWSDP_HOME}/jaxp/lib/endorsed/sax.jar:
${JWSDP_HOME}/jaxp/lib/endorsed/dom.jar:
${JWSDP_HOME}/saaj/lib/saaj-impl.jar:
${JWSDP_HOME}/saaj/lib/saaj-api.jar:
${JWSDP_HOME}/jwsdp-shared/lib/mail.jar:
${JWSDP_HOME}/jwsdp-shared/lib/providerutil.jar:
${JWSDP_HOME}/jwsdp-shared/lib/jaas.jar:
${JWSDP_HOME}/jwsdp-shared/lib/activation.jar:
${JWSDP_HOME}/jwsdp-shared/lib/commons-logging.jar:${TS_HOME}/lib/javatest.jar:${TS_HOME}/lib/tsharness.jar:
${TS_HOME}/lib/jaxrtck.jar</pre>
Or, if are running the Java Web Services Developers Pack on Windows,
you set the following classpath:
<pre>set LOCAL_CLASSES=%JWSDP_HOME%\jaxr\lib\jaxr-impl.jar;
%JWSDP_HOME%\jaxr\lib\jaxr-api.jar;
%JWSDP_HOME%\jaxr\lib\fscontext.jar;
%JWSDP_HOME%\jaxr\lib\castor-0.9.3.9-xml.jar;
%JWSDP_HOME%\jaxp\lib\jaxp-api.jar;
%JWSDP_HOME%\jaxp\lib\endorsed\xercesImpl.jar;
%JWSDP_HOME%\jaxp\lib\endorsed\xsltc.jar;
%JWSDP_HOME%\jaxp\lib\endorsed\xalan.jar;
%JWSDP_HOME%\jaxp\lib\endorsed\sax.jar;
%JWSDP_HOME%\jaxp\lib\endorsed\dom.jar;
%JWSDP_HOME%\saaj\lib\saaj-impl.jar;
%JWSDP_HOME%\saaj\lib\saaj-api.jar;
%JWSDP_HOME%\jwsdp-shared\lib\mail.jar;
%JWSDP_HOME%\jwsdp-shared\lib\providerutil.jar;
%JWSDP_HOME%\jwsdp-shared\lib\jaas.jar;
%JWSDP_HOME%\jwsdp-shared\lib\activation.jar;
%JWSDP_HOME%\jwsdp-shared\lib\commons-logging.jar;
%TS_HOME%\lib\javatest.jar;%TS_HOME%\lib\tsharness.jar;
%TS_HOME%\lib\jaxrtck.jar;</pre>
</ol>

<div class="step">&nbsp;</div>

<div class="step"><b>Edit your <tt>ts.jte</tt> file and modify the following
environment settings:</b></div>

<ol type="a"><b>Set the registryURL property to the publish url for your
Registry.</b>
<p>The setting for the wspack RegistryServer is:
<br><tt>registryURL=http://localhost:8080/RegistryServer</tt>.

<p class="step"><b>Set the queryManagerURL property to the query url for
you Registry.</b>
<p>The setting for the wspack RegistryServer is:
<br><tt>queryManagerURL=http://localhost:8080/RegistryServer</tt>.
<p><b>Set the username and password properties for 2 accounts in your registry.</b>
<p>The default settings for RegistryServer:
<br><tt>jaxrUser=testuser</tt>
<br><tt>jaxrPassword=testuser</tt>
<br><tt>jaxrUser2=jaxr-sqe</tt>
<br><tt>jaxrPassword2=jaxrsqe</tt>
<br>&nbsp;
<br>&nbsp;</ol>
</ol>

<h3>
<a NAME="deploy"></a></h3>

<h3>
<a NAME="start"></a>Configuring and Starting Your Java Web Server</h3>
Follow the install instructions that come with the Java Web Services Developers
Pack:
<p>Complete the following steps to start the Java Web server:
<ol type="1">Change to the <tt>&lt;JWSDP_HOME>/bin</tt> directory.
<p>Execute the <tt>./startup.sh</tt> script or the <tt>startup.bat</tt>
batch file.
<p>Wait for the web server to come up. Look at the file <tt>&lt;JWSDP_HOME>/logs/launcher.server.log
</tt>and
wait until the messages stop printing to the file. You will see the following
message when the web server has completed its startup:
<pre>Starting service Internal Services
Java Web Services Developer Pack/1.2-fcs
Starting service Java Web Services Developer Pack
Java Web Services Developer Pack/1.2-fcs</pre>
</ol>

<h3>
<a NAME="run_all_tests"></a>Running the Jakarta Registries TCK Tests</h3>
To run the Jakarta Registries TCK tests, complete the following steps. Note that you
only need to complete steps 2-10 the first time you start the JT Harness.
The online version of the JT Harness version 5.0 documentation is available <a href="https://wiki.openjdk.java.net/display/CodeTools/Documentation">here</a>.
<br/><br/>After you complete these steps, you can either run all of
the tests by completing Step 11 or run a subset of the tests by completing
the steps in the section that follows this one.
<ol type="1">
<div class="step"><b>Change to the <tt>&lt;TS_HOME>/bin</tt> directory
and start the JavaTest test harness:</b></div>
<tt>cd &lt;TS_HOME>/bin</tt>
<br><tt>ant gui</tt>
<p>The Welcome screen displays.

<p class="step"><b>Click on the&nbsp;<span class="emphasize">Create Work
Directory</span> button, enter the name of the directory to which the JavaTest
test harness will write temporary files (<tt>/tmp/JTwork</tt>, for example),
and press the&nbsp;<span class="emphasize">New Work Dir</span> button when
you are done.</b>
<p>Otherwise select&nbsp;<span class="emphasize">File->New Work Dir</span>
or&nbsp;<span class="emphasize">File->Open Work Dir</span> to do the same
as above.
<p>Pull down&nbsp;<span class="emphasize">Configuration</span> and select&nbsp;<span class="emphasize">Configuration
Editor</span>. The Welcome screen displays. Press the&nbsp;<span class="emphasize">Next
Question</span> button (right arrow). You are prompted to select which
tests to run. Accept the default setting (<tt>jaxr</tt>) and press the&nbsp;<span class="emphasize">Next
Question</span> button.
<p><span class="emphasize">NOTE:</span> Do not run the Parameter Editor
before you run the Configuration Editor or you will lose all the default
settings.

<p class="step"><b>You are asked if you want to specify an exclude list.
Accept the default (yes) and press the&nbsp;<span class="emphasize">Next
Question</span> button.</b>

<p class="step"><b>Verify the default location of the exclude list and
press the&nbsp;<span class="emphasize">Next Question</span> button.</b>

<p class="step"><b>You are prompted for the location of the environment
files. Accept the default file location and press the&nbsp;<span class="emphasize">Next
Question</span> button.</b>

<p class="step"><b>You are prompted to specify a test environment. Select
either <tt>ts_unix</tt> or <tt>ts_win32</tt> and press the&nbsp;<span class="emphasize">Next
Question</span> button.</b>

<p class="step"><b>You are prompted to specify a directory into which reports
will be written. Accept the default (<tt>/tmp/JTreport</tt>) or enter a
new directory location and press the&nbsp;<span class="emphasize">Next
Question</span> button.</b>

<p class="step"><b>You are prompted to create the directory. Accept the
default answer (yes) and press the&nbsp;<span class="emphasize">Next Question</span>
button.</b>

<p class="step"><b>The Congratulations screen displays. Press the&nbsp;<span class="emphasize">Finished</span>
button (check mark).</b>

<p class="step"><b>Select&nbsp;<span class="emphasize">Run</span> then&nbsp;<span class="emphasize">Start</span>.
The tests in the <tt>{TS_HOME}/src/com/sun/ts/tests/jaxr</tt> directory
will be executed.</b></ol>

<h3>
<a NAME="run_subset"></a>Running a Subset of the Jakarta Registries TCK Tests</h3>
To run a subset of the Jakarta Registries TCK tests, complete the following steps:
<ol type="1">
<div class="step"><b>Pull down&nbsp;<span class="emphasize">Configuration</span>
and select&nbsp;<span class="emphasize">Configuration Editor</span>.</b></div>

<div class="step"><b>On the left side of the screen, select the topmost
directory and remove it.</b></div>

<div class="step"><b>Click&nbsp;<span class="emphasize">Add</span>, select
the new subdirectory or test that you want to run, and click&nbsp;<span class="emphasize">Add
File</span>.</b></div>

<p>For example, to run just the&nbsp;<span class="emphasize">AttachmentPart</span>
API test, double click on&nbsp;<span class="emphasize">jaxr</span>, then
double click on&nbsp;<span class="emphasize">api</span>, then double click
on&nbsp;<span class="emphasize">javax_xml_soap&nbsp;</span>, then single
click on&nbsp;<span class="emphasize">AttachmentPart</span>, then click&nbsp;<span class="emphasize">Add
File</span>.

<p class="step"><b>Click the&nbsp;<span class="emphasize">Finished</span>
button when you are done.</b>

<p class="step"><b>Click&nbsp;<span class="emphasize">Run</span> and select&nbsp;<span class="emphasize">Start</span>
to run the test. This will now only run the&nbsp;<span class="emphasize">AttachmentPart</span>
api test.</b></ol>

<h3>
<a NAME="use_ant"></a>Build/Deploy/Run the Jakarta Registries TCK Tests using ant</h3>
Complete the following steps to set up your environment to build, deploy,
and run the Jakarta Registries TCK tests using <tt>ant</tt>. The following example
is for the Solaris platform:
<ol type="1">Set the following environment variables in your shell environment
to use the build infrastructure that comes with the TCK:
<ul><tt>TS_HOME </tt>to the directory where the Jakarta Registries TCK software has been
installed
<p><tt>ANT_HOME </tt>to the directory where the Ant software is installed
and include <tt>ANT_HOME/bin</tt> in <tt>PATH</tt>
<pre>C Shell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv ANT_HOME anthome
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH "${ANT_HOME}/bin:${PATH}

Bourne Shell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ANT_HOME=anthome
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PATH=${ANT_HOME}/bin:${PATH}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; export ANT_HOME PATH</pre>
<tt>PATH </tt>add <tt>TS_HOME/bin</tt> to your PATH in your command shell
<pre>C Shell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH ${TS_HOME}/bin:${PATH}

Bourne Shell&nbsp; PATH=${TS_HOME}/bin:${PATH}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; export PATH</pre>
<tt>JAVA_HOME </tt>to the directory where the Java SE SDK 8 software has
been installed
</ul>
Change to directory <tt>TS_HOME/install/jaxr</tt> and run <tt>ant</tt>
to create and set up your <tt>TS_HOME/bin</tt> directory if it has not
yet been setup.
<p>Change to directory <tt>TS_HOME/bin</tt> and edit the <tt>build.properties</tt>
file to set the required properties needed for using Ant build environment.
<ul><tt>webserver.home </tt>to the directory where the Java Web Services
Developers Pack has been installed
<p><tt>webserver.host </tt>to the host the Web server is running on
<p><tt>webserver.port </tt>to the port the Web server is running on
<p><tt>j2ee.home.ri </tt>to the directory where the Jakarta EE 8 Compatible Implementation (e.g. Eclipse GlassFish 5.1) is installed
for reference to the packager tool used by the build infrastructure
<p><tt>local.classes </tt>required classes needed for building/running
the TCK</ul>
</ol>
To build the Jakarta Registries TCK tests using <tt>ant</tt>, complete the following
steps:
<ol type="1">
<div class="step"><b>To build a single test directory, type the following:</b></div>

<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api/javax_xml_soap/AttachmentPart
ant clean build</pre>
This will clean and build the tests in the&nbsp;<span class="emphasize">AttachmentPart</span>
test directory.

<p class="step"><b>To list the classes directory for this test that was
built, type the following:</b>
<pre>&nbsp;ant lc or ant llc</pre>

<div class="step"><b>To list the distribution directory of archives for
this test that was built, type the following:</b></div>

<pre>ant ld or ant lld</pre>

<div class="step"><b>To build a subset of test directories, type the following:</b></div>

<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api
ant clean build</pre>
This will clean and build all the test directories under the <tt>api</tt>
directory.</ol>
To deploy the Jakarta Registries TCK tests using <tt>ant</tt>, complete the following
steps:
<ol type="1">
<div class="step"><b>To deploy a single test directory, type the following:</b></div>

<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api/javax_xml_soap/AttachmentPart
ant deploy</pre>
This will deploy the WAR file built for the&nbsp;<span class="emphasize">AttachmentPart</span>
test directory to the <tt>webapps</tt> directory.

<p class="step"><b>To deploy a subset of test directories, type the following:</b>
<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api
ant deploy</pre>
This will deploy all the test WAR files for the <tt>api</tt> directory.</ol>
To run the Jakarta Registries TCK tests using <tt>ant</tt>, complete the following
steps:
<ol type="1">
<div class="step"><b>To run a single test directory, type the following:</b></div>

<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api/javax_xml_soap/AttachmentPart
ant runclient</pre>
This will run all tests in the&nbsp;<span class="emphasize">AttachmentPart</span>
test directory.

<p class="step"><b>To run a single test within a test directory, type the
following:</b>
<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api/javax_xml_soap/AttachmentPart
ant runclient -Dtest=getPropertyNamesTest1</pre>
This will run only the&nbsp;<span class="emphasize">getPropertyNamesTest1</span>
in the&nbsp;<span class="emphasize">AttachmentPart</span> test directory.
You select the test name to run by looking at the testName tags in the&nbsp;<span class="emphasize">URLClient.java</span>
file.

<p class="step"><b>To run a subset of test directories type the following:</b>
<pre>cd &lt;TS_HOME>/src/com/sun/ts/tests/jaxr/api
ant runclient</pre>
This will run all the test directories under the <tt>api</tt> directory.</ol>

<hr size="3" noshade="noshade">
<p><font size=-1>Copyright (c) 2003, 2019 Oracle and/or its affiliates. All rights reserved.</a></font>
</body>
</html>
